<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Dom4 : a fully tested and covered polyfill for new DOM Level 4 entries">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Dom4</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/WebReflection/dom4">View on GitHub</a>

          <h1 id="project_title">Dom4</h1>
          <h2 id="project_tagline">a fully tested and covered polyfill for new DOM Level 4 entries</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/WebReflection/dom4/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/WebReflection/dom4/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="dom4" class="anchor" href="#dom4" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>DOM4</h1>

<p><a href="https://travis-ci.org/WebReflection/dom4"><img src="https://travis-ci.org/WebReflection/dom4.svg" alt="build status"></a></p>

<h4>
<a id="via-cdnjs" class="anchor" href="#via-cdnjs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Via cdnJS</h4>

<p>Many thanks to <a href="http://www.cdnjs.com">cdnjs</a> for hosting this script. Following an example on how to include it.</p>

<div class="highlight highlight-text-html-basic"><pre><span class="pl-s1">&lt;<span class="pl-ent">script</span></span>
<span class="pl-s1">  <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>//cdnjs.cloudflare.com/ajax/libs/dom4/1.8.3/dom4.js<span class="pl-pds">"</span></span></span>
<span class="pl-s1">&gt;<span class="pl-c">/* DOM4 */</span>&lt;/<span class="pl-ent">script</span>&gt;</span></pre></div>

<h4>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h4>

<p>This is a <a href="http://webreflection.github.io/dom4/test/">fully tested</a> and covered polyfill for both <a href="https://dom.spec.whatwg.org/#parentnode">new DOM Level 4 parentNode entries</a>:</p>

<ul>
<li>Element#prepend()</li>
<li>Element#append()</li>
</ul>

<p>And for <a href="https://dom.spec.whatwg.org/#childnode">new DOM Level 4 childNode entries</a>:</p>

<ul>
<li>Element#before()</li>
<li>Element#after()</li>
<li>Element#replaceWith() ( <strong>warning</strong> Element#replace() has been recently deprecated )</li>
<li>Element#remove()</li>
</ul>

<p>The <a href="https://github.com/WebReflection/dom4/blob/master/test/dom4.js">implemented test</a> is conform to current specifications.</p>

<p>Other fixes/standardized behaviors include:</p>

<ul>
<li>
<strong>new</strong> <a href="https://www.webreflection.co.uk/blog/2016/04/17/new-dom4-standards">DOM Listener: capture, passive, and once</a>
</li>
<li>fully normalized <code>KeyboardEvent</code>, <code>MouseEvent</code> and the latest way to create <code>new Event('type')</code>
</li>
<li>
<a href="http://www.w3.org/TR/2015/WD-dom-20150428/#elements">Elements as Array subclass</a>, so that <code>el.query</code> is the relative equivalent of <code>el.querySelector</code> and <code>el.queryAll</code> is the relative equivalent of <code>Array.prototype.slice.call(el.querySelectorAll(css))</code>. Relative means <code>node.query('body p')</code> won't return any <code>p</code> element contained in <code>node</code>, while old <code>querySelector</code> would.</li>
<li>
<strong>document.queryAll(css)</strong> returns an Array so there's no need to use <code>Array.prototype.slice.call(document.querySelectorAll(str))</code> or <code>[...document.querySelectorAll(str)]</code> or <code>Array.from(document.querySelectorAll(css))</code>, just <code>queryAll</code> for a list or <code>query</code> to get one element. We can forget the <code>Selector</code> bit \o/</li>
<li>
<a href="http://www.w3.org/TR/dom/#domtokenlist">classList</a>, with forced fixes for iOS 5.1 and Nokia ASHA Xpress Browser and early implementations</li>
<li>
<a href="http://www.w3.org/TR/dom/#customevent">CustomEvent</a> constructor for all browsers down to IE8</li>
<li>
<a href="https://dom.spec.whatwg.org/#dom-element-matches">Element#matches</a> utility to test elements against CSS selectors</li>
<li>
<a href="https://dom.spec.whatwg.org/#dom-element-closest">Element#closest</a> utility to find element inclusive ancestor via CSS selectors</li>
<li>
<a href="https://dom.spec.whatwg.org/#dom-node-contains">Node#contains</a> utility to know if another node is inside the current one</li>
<li>
<code>requestAnimationFrame</code> and <code>cancelAnimationFrame</code> are polyfilled too but the least legacy fallback to setTimeout does not support accurate timing and doesn't slow down execution with that logic. Feel free to load upfront other polyfills if needed.</li>
</ul>

<p>The <strong>DOM4</strong> license is Mit Style.</p>

<p>If you need other polyfills too <a href="https://github.com/Raynos/DOM-shim">have a look at another DOM-shim repo</a>.</p>

<h3>
<a id="compatibility" class="anchor" href="#compatibility" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Compatibility</h3>

<p>Theoretically compatible with all browsers you know that are truly used these days, here a list:</p>

<ul>
<li>Android 2.1+</li>
<li>Safari Mobile since iOS 3.0 and Desktop</li>
<li>Opera Mobile, Mini, and Desktop</li>
<li>Blackberry 7.1 and higher</li>
<li>Samsung Bada 2 native Browser</li>
<li>Midori and most likely all other WebKit based</li>
<li>Chrome Mobile and Desktop</li>
<li>Firefox Mobile and Desktop</li>
<li>IE8+ for Desktop and IE Mobile 9 or greater.</li>
<li>Nokia Xpress Browser for ASHA Platform</li>
<li>Silk Browser - Fire OS 3.0</li>
<li>PhantomJS can benefit from DOM4 too</li>
</ul>

<p>It's way easier if you tell me which browser in a current relevant market share is not supported :-)</p>

<p>For <strong>IE8</strong> only it's recommended to include <a href="https://github.com/WebReflection/ie8#ie8">ie8</a> script before <code>dom4</code> or <code>CustomEvent</code>, <code>addEventListener</code>, and <code>dispatchEvent</code> won't work as expected.</p>

<h3>
<a id="which-file" class="anchor" href="#which-file" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Which File</h3>

<p>The <a href="https://github.com/WebReflection/dom4/blob/master/build/dom4.js">minified version is here</a>, while the <a href="https://github.com/WebReflection/dom4/blob/master/build/dom4.max.js">max one here</a>. If you want to test directly <a href="http://webreflection.github.com/dom4/test/">try this page</a>, it should be green.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Dom4 maintained by <a href="https://github.com/WebReflection">WebReflection</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
